-- TEST THE UPVOTING SYSTEM\n-- Run this after setting up the feedback_upvotes table\n\n-- 1. Check if feedback_upvotes table exists\nSELECT \n    table_name,\n    column_name,\n    data_type\nFROM information_schema.columns \nWHERE table_name = 'feedback_upvotes'\nORDER BY ordinal_position;\n\n-- 2. Check if there are any feedback submissions to upvote\nSELECT \n    id,\n    subject,\n    feedback_type,\n    created_at\nFROM feedback_submissions \nORDER BY created_at DESC \nLIMIT 5;\n\n-- 3. Check current upvote counts\nSELECT \n    fs.subject,\n    COUNT(fu.id) as upvote_count\nFROM feedback_submissions fs\nLEFT JOIN feedback_upvotes fu ON fs.id = fu.feedback_submission_id\nGROUP BY fs.id, fs.subject\nORDER BY upvote_count DESC;\n\n-- 4. Test the helper function (if you have feedback submissions)\n-- Replace 'your-feedback-id-here' with an actual feedback submission ID\n-- SELECT get_feedback_upvote_count('your-feedback-id-here');\n\n-- 5. Check RLS policies\nSELECT \n    schemaname,\n    tablename,\n    policyname,\n    permissive,\n    roles,\n    cmd,\n    qual\nFROM pg_policies \nWHERE tablename = 'feedback_upvotes';\n\n-- Success! If you see results above, your upvoting system is ready.\n-- Now test in the browser:\n-- 1. Go to /feedback\n-- 2. Submit a test feedback item\n-- 3. Click the upvote button and watch the animation!\n-- 4. Try upvoting again to see the remove animation\n\nSELECT 'Upvoting system setup complete! ðŸŽ‰' as status;